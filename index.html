<!doctype html>

<head>
	<meta charset="utf-8">
	<script>
		let setSearchEngine = function () {
			let searchEngine = document.querySelector("input[name=engine]:checked").value;
			let form = document.getElementById("searchForm");
			let actions = {
				"google": "https://www.google.com/search",
				"duckDuckGo": "https://duckduckgo.com/",
				"bing": "https://www.bing.com/search",
				"ask": "https://www.ask.com/web"
			};
			form.setAttribute("action", actions[searchEngine]);
		};

		let userInputs = [];

    window.addEventListener("load", function(){
        let button = document.getElementById("go");
		let form = document.getElementById("searchForm");
		form.addEventListener('submit', function (event) {
		let search = document.querySelector("input[name=q]");

			
		let radios = document.getElementsByName("engine");


		let missingRadio = true;
			for (let i = 0; i < radios.length; i++) {
				if (radios[i].checked) {
					userInputs.push(radios[i]);
					missingRadio = false;
				}
			}
			for (let i = 0; i < userInputs.length; i++) {
				if (search.value === "" || missingRadio) {
					alert("You need to search something!");
					event.preventDefault();
		
				}
			}
		});
		button.addEventListener('click', setSearchEngine);
    });
	</script>
</head>

<body>

	<form id="searchForm">
    <input type = "text" name = "q"/>
	<label>Google<input type = "radio" name = "engine" value = "google"/></label>
	<label>DuckDuckGo<input type = "radio" name = "engine" value = "duckDuckGo"/></label>
	<label>Bing<input type = "radio" name = "engine" value = "bing"/></label>
	<label>Ask<input type = "radio" name = "engine" value = "ask"/></label>
	<button id = "go">Go!</button>
	</form>

</body>